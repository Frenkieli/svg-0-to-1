<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>

<body>
  <svg width="240" height="160">
    <!-- 
      patternUnits : userSpaceOnUse
      像是將圖案印在svg上然後fill則是顯示上去
     -->
    <defs>
      <pattern id="p" patternUnits="userSpaceOnUse" width="60" height="60">
        <rect width="30" height="30" fill="#f99" x="0" y="0"></rect>
      </pattern>
    </defs>
    <rect width="240" height="160" stroke="#aaa" fill="url(#p)" />
    <circle cx="150" cy="80" r="50" stroke="#000" fill="url(#p)" />
    <rect width="60" height="60" x="1" y="1" stroke="#00f" stroke-width="2" fill="url(#p)" />
  </svg>
  <svg width="240" height="160">
    <!-- 
      圖案大小是 40 x 40
      rect大小是 30 x 30
      所以會有10的空白
     -->
    <!-- <defs>
      <pattern id="p1" patternUnits="userSpaceOnUse" width="40" height="40">
        <rect width="30" height="30" fill="#f99" x="0" y="0"></rect>
      </pattern>
    </defs> -->

    <!-- 
      patternUnits : userSpaceOnUse
      如果圖案裡面的樣式超出範圍就會被切掉
      所以 40 x 40範圍裏面只剩下 x30 開始往右 width10 height 30 的長方形
     -->
    <defs>
      <pattern id="p2" patternUnits="userSpaceOnUse" width="40" height="40">
        <rect width="30" height="30" fill="#f99" x="30" y="0"></rect>
      </pattern>
    </defs>
    <rect width="240" height="160" stroke="#aaa" fill="url(#p2)" />
    <circle cx="150" cy="80" r="50" stroke="#0a0" stroke-width="2" fill="url(#p2)" />
    <rect width="40" height="40" x="1" y="1" stroke="#00f" stroke-width="2" fill="url(#p2)" />
  </svg>

  <hr>
  <svg>
    <defs>
      <!-- 
        patternUnits : objectBoundingBox
        這邊的寬度和高度是長寬比
        1 代表 pattern 跟被套用的物件一樣大所以只會顯示一個方塊
       -->
      <pattern id="q1" patternUnits="objectBoundingBox" width="1" height="1">
        <rect width="30" height="30" fill="#f99" x="0" y="0"></rect>
      </pattern>
    </defs>
    <circle cx="180" cy="80" r="50" stroke="#0a0" stroke-width="2" fill="url(#q1)" />
    <rect width="100" height="100" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#q1)" />
  </svg>

  <svg>
    <defs>
      <!-- 
        這邊 .4 所以會顯示 2.5 個方塊 100 分成 40 40 20 固會有 10 的間隔顯示白色 
       -->
      <pattern id="q2" patternUnits="objectBoundingBox" width=".4" height=".4">
        <rect width="30" height="30" fill="#f99" x="0" y="0"></rect>
      </pattern>
    </defs>
    <circle cx="180" cy="80" r="50" stroke="#0a0" stroke-width="2" fill="url(#q2)" />
    <rect width="100" height="100" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#q2)" />
  </svg>
  <svg>
    <!-- 
      可以看到中間的間隔變小了
      這個選樣會因為套用的形狀帶小變更而變更圖章大小
     -->
    <defs>
      <pattern id="q3" patternUnits="objectBoundingBox" width=".4" height=".4">
        <rect width="30" height="30" fill="#f99" x="0" y="0"></rect>
      </pattern>
    </defs>
    <rect width="80" height="80" x="120" y="30" stroke="#000" stroke-width="2" fill="url(#q3)" />
    <rect width="100" height="100" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#q3)" />
  </svg>

  <hr>
  <svg>
    <defs>

      <!-- 
        patternContentUnits
        這邊一樣有
        userSpaceOnUse
        objectBoundingBox

        userSpaceOnUse
        是設定圖章實際大小

        objectBoundingBox
        是依據比例大小
       -->
      <pattern id="f1" patternUnits="objectBoundingBox" width=".4" height=".4" patternContentUnits="userSpaceOnUse">
        <rect width="20" height="20" fill="#069" x="0" y="0"></rect>
      </pattern>
      <pattern id="f2" patternUnits="objectBoundingBox" width=".4" height=".4" patternContentUnits="objectBoundingBox">
        <rect width=".2" height=".2" fill="#069" x="0" y="0"></rect>
      </pattern>
    </defs>

    <!-- 
      可以在同樣套用 objectBoundingBox 比例大小的情況下
      左邊的套用實際大小的空白區域明顯變少

      但是套用objectBoundingBox可以依照比例進行縮放
    -->
    <rect width="75" height="75" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#f1)" />
    <rect width="75" height="75" x="120" y="30" stroke="#000" stroke-width="2" fill="url(#f2)" />
  </svg>
  <svg>
    <!-- 
      patternTransform
      可以給圖章套用變型
     -->
    <defs>
      <!-- <pattern id="ll1" patternUnits="objectBoundingBox" width=".2" height=".4" patternTransform="rotate(45)">
        <rect width="10" height="50" fill="#000" x="0" y="0"></rect>
        <rect width="10" height="50" fill="#fa0" x="10" y="0"></rect>
      </pattern> -->
      <!-- 可以比較這兩個的差異 -->
      <pattern id="ll1" patternUnits="userSpaceOnUse" width="20" height="40" patternTransform="rotate(45)">
        <rect width="10" height="50" fill="#000" x="0" y="0"></rect>
        <rect width="10" height="50" fill="#fa0" x="10" y="0"></rect>
      </pattern>
    </defs>
    <!-- 記得算比例跟大小 -->
    <rect width="200" height="200" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#ll1)" />
    <rect width="100" height="100" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#ll1)" />
  </svg>
  <!-- 
    x,y,width,height
  這四個屬性跟 patternUnits 設定為userSpaceOnUse或objectBoundingBox息息相關
  設定為userSpaceOnUse就是標準長寬數值
  設定為objectBoundingBox就是比例，千萬別忘記！
   -->
  <hr>
  <svg>
    <defs>
      <!-- 
        藉由 xlink:href 套用設定
       -->
      <pattern id="ttt1">
        <rect width="20" height="20" fill="#0c0" x="0" y="0"></rect>
      </pattern>
      <pattern id="tt1" patternUnits="objectBoundingBox" width=".4" height=".4" xlink:href="#ttt1" />
      <pattern id="tt2" patternUnits="objectBoundingBox" width=".25" height=".25" xlink:href="#ttt1" />
    </defs>

    <rect width="100" height="100" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#tt1)" />
    <rect width="100" height="100" x="120" y="30" stroke="#000" stroke-width="2" fill="url(#tt2)" />
  </svg>
  <hr>
  <svg>
    <defs>
      <!-- 
        view 從 0 0 開始到 22 22 所以 寬度 40 高度 40 的圖章被局部放大到0 0 22 22的區域所以空白間隔減少
       -->
      <pattern id="uu1" patternUnits="objectBoundingBox" width=".4" height=".4" viewbox="0,0,22,22">
        <rect width="20" height="20" fill="#f80" x="0" y="0"></rect>
      </pattern>
      <pattern id="uu2" patternUnits="objectBoundingBox" width=".4" height=".4" viewbox="0,0,40,40">
        <rect width="20" height="20" fill="#f80" x="0" y="0"></rect>
      </pattern>
    </defs>

    <rect width="100" height="100" x="10" y="30" stroke="#000" stroke-width="2" fill="url(#uu1)" />
    <rect width="100" height="100" x="120" y="30" stroke="#000" stroke-width="2" fill="url(#uu2)" />
  </svg>
</body>

</html>